(function(t){function e(e){for(var n,c,r=e[0],a=e[1],d=e[2],u=0,h=[];u<r.length;u++)c=r[u],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&h.push(i[c][0]),i[c]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);l&&l(e);while(h.length)h.shift()();return s.push.apply(s,d||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],n=!0,r=1;r<o.length;r++){var a=o[r];0!==i[a]&&(n=!1)}n&&(s.splice(e--,1),t=c(c.s=o[0]))}return t}var n={},i={app:0},s=[];function c(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,c),o.l=!0,o.exports}c.m=t,c.c=n,c.d=function(t,e,o){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(c.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(o,n,function(e){return t[e]}.bind(null,n));return o},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],a=r.push.bind(r);r.push=e,r=r.slice();for(var d=0;d<r.length;d++)e(r[d]);var l=a;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";o("85ec")},"4d95":function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("my-header",{on:{addTodo:t.addTodo}}),o("my-list",{attrs:{todoData:t.todos}}),o("my-footer",{attrs:{signal:t.signal,CheckedArr:t.CheckedArr,todos:t.todos}})],1)},s=[],c=(o("4de4"),o("d3b7"),o("159b"),o("e9c4"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"footer"},[o("div",{staticClass:"checkbox"},[o("label",{staticClass:"box"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"checked"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.checked)?t._i(t.checked,null)>-1:t.checked},on:{change:function(e){var o=t.checked,n=e.target,i=!!n.checked;if(Array.isArray(o)){var s=null,c=t._i(o,s);n.checked?c<0&&(t.checked=o.concat([s])):c>-1&&(t.checked=o.slice(0,c).concat(o.slice(c+1)))}else t.checked=i}}}),o("span",[t._v("全选")])])]),o("div",{staticClass:"text"},[t._v("已完成"+t._s(t.CheckedArr.length)+"/全部"+t._s(t.todos.length))]),o("div",{staticClass:"D-btn"},[o("el-button",{attrs:{type:"danger"},on:{click:t.DeleteCheckedItem}},[t._v("清除选中的任务")])],1)])}),r=[],a={name:"myFooter",props:["signal","CheckedArr","todos"],data:function(){return{checked:""}},methods:{DeleteCheckedItem:function(){this.$bus.$emit("DeleteCheckedItem")}},watch:{checked:function(t){this.$bus.$emit("watchCheckForAll",t),this.$bus.$emit("AutoCheckForAll"),this.$bus.$emit("AddDoneStlye")},signal:function(){this.signal&&0!==this.todos.length?this.checked=!0:this.checked=!1}}},d=a,l=(o("d912"),o("2877")),u=Object(l["a"])(d,c,r,!1,null,"1c056a9c",null),h=u.exports,f=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-form",{attrs:{"status-icon":""}},[o("el-form-item",[o("el-input",{attrs:{placeholder:"请输入你的任务名称",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.UploadMission.apply(null,arguments)}},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),o("el-button",{attrs:{type:"primary",size:"default"},on:{click:t.UploadMission}},[t._v("提交任务")])],1)],1)],1)},p=[],m=o("e1bd"),k={name:"myHeader",data:function(){return{input:""}},methods:{UploadMission:function(){var t={id:Object(m["a"])(),title:this.input,done:!1};this.input="",this.$emit("addTodo",t)}}},b=k,y=(o("cff9"),Object(l["a"])(b,f,p,!1,null,"2f0cd648",null)),v=y.exports,C=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("ul",{staticClass:"todos"},t._l(t.todoData,(function(t){return o("my-item",{key:t.id,attrs:{todo:t}})})),1)])},$=[],g=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("li",[o("div",{staticClass:"shell"},[o("label",[o("input",{staticClass:"box",attrs:{type:"checkbox"},domProps:{checked:t.todo.done},on:{change:function(e){return t.handleCheck(t.todo.id)}}}),o("div",{directives:[{name:"show",rawName:"v-show",value:!t.todo.isEdit,expression:"!todo.isEdit"}],staticClass:"text"},[o("span",{class:t.DoneStlye},[t._v(t._s(t.todo.title))])]),o("input",{directives:[{name:"show",rawName:"v-show",value:t.todo.isEdit,expression:"todo.isEdit"}],ref:"input",staticClass:"ChangeInputValue",attrs:{type:"text"},domProps:{value:t.todo.title},on:{blur:function(e){return t.ShowChangeContent(t.todo,e)}}})]),o("el-button",{staticClass:"change",attrs:{type:"primary"},on:{click:function(e){return t.ChangeInputValue(t.todo)}}},[t._v("修改内容")]),o("el-button",{staticClass:"danger",attrs:{type:"danger"},on:{click:function(e){return t.handleCheckDeleteId(t.todo.id)}}},[t._v("清除任务")])],1)])},A=[],D={name:"myItem",props:["todo"],data:function(){return{DoneStlye:""}},methods:{handleCheck:function(t){this.$bus.$emit("DoCheck",t),this.$bus.$emit("AutoCheckForAll"),this.$bus.$emit("AddDoneStlye")},handleCheckDeleteId:function(t){this.$bus.$emit("DeleteTodo",t)},ChangeInputValue:function(t){var e=this;this.$set(t,"isEdit",!0),this.$nextTick((function(){e.$refs.input.focus()}))},ShowChangeContent:function(t,e){this.$bus.$emit("UpdateToda",t.id,e.target.value),this.todo.isEdit=!1},AddDoneStlye:function(){this.todo.done?this.DoneStlye="DoneClass":this.DoneStlye=""}},mounted:function(){this.$bus.$on("AddDoneStlye",this.AddDoneStlye)}},_=D,w=(o("ba42"),Object(l["a"])(_,g,A,!1,null,"0a0aae18",null)),x=w.exports,O={components:{myItem:x},name:"myList",props:["todoData"],methods:{}},S=O,E=Object(l["a"])(S,C,$,!1,null,null,null),T=E.exports,j={name:"App",components:{myFooter:h,myHeader:v,myList:T},data:function(){return{CheckedArr:[],signal:!1,todos:JSON.parse(localStorage.getItem("todos"))||[{id:"001",title:"吃饭",done:!0},{id:"002",title:"抽烟",done:!1},{id:"003",title:"喝酒",done:!1},{id:"004",title:"烫头",done:!1}]}},computed:{},methods:{addTodo:function(t){""==t.title?alert("请输入任务"):(this.todos.unshift(t),this.$bus.$emit("AutoCheckForAll"))},DeleteTodo:function(t){this.todos=this.todos.filter((function(e){return e.id!==t}))},UpdateToda:function(t,e){this.todos.forEach((function(o){t==o.id&&(o.title=e)}))},DoCheck:function(t){this.todos.forEach((function(e){t==e.id&&(e.done=!e.done)}))},watchCheckForAll:function(t){if(t)this.todos.forEach((function(e){e.done=t}));else{var e=[];this.todos.forEach((function(t){t.done&&e.push(t.id)})),e.length==this.todos.length&&this.todos.forEach((function(e){e.done=t}))}},AutoCheckForAll:function(){var t=this,e=[];this.todos.forEach((function(o){o.done&&e.push(o.id),e.length==t.todos.length&&0!==t.todos.length?t.signal=!0:t.signal=!1}))},DeleteCheckedItem:function(){this.todos=this.todos.filter((function(t){return!t.done}))}},watch:{todos:{handler:function(t){var e=this;this.CheckedArr=[],this.todos.forEach((function(t){t.done&&-1==e.CheckedArr.indexOf(t.id)&&e.CheckedArr.push(t.id)})),localStorage.setItem("todos",JSON.stringify(t))},immediate:!0,deep:!0}},mounted:function(){this.$bus.$on("DoCheck",this.DoCheck),this.$bus.$on("DeleteTodo",this.DeleteTodo),this.$bus.$on("UpdateToda",this.UpdateToda),this.$bus.$on("AutoCheckForAll",this.AutoCheckForAll),this.$bus.$on("watchCheckForAll",this.watchCheckForAll),this.$bus.$on("DeleteCheckedItem",this.DeleteCheckedItem)},beforeDestroy:function(){this.$bus.$off("DoCheck"),this.$bus.$off("DeleteTodo"),this.$bus.$off("AutoCheckForAll")}},I=j,F=(o("034f"),Object(l["a"])(I,i,s,!1,null,null,null)),P=F.exports,M=o("5c96"),U=o.n(M);o("0fae");n["default"].use(U.a),n["default"].config.productionTip=!1,new n["default"]({render:function(t){return t(P)},beforeCreate:function(){n["default"].prototype.$bus=this}}).$mount("#app")},"812a":function(t,e,o){},"85ec":function(t,e,o){},ba42:function(t,e,o){"use strict";o("c248")},c248:function(t,e,o){},cff9:function(t,e,o){"use strict";o("4d95")},d912:function(t,e,o){"use strict";o("812a")}});
//# sourceMappingURL=app.c6f5d8aa.js.map